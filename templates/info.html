{{ define "content" }}
<div class="info-container">
    <h2>System Statistics</h2>
    
    <div class="info-section">
        <h3>Database Statistics</h3>
        <table class="info-table">
            <tr>
                <td><strong>Total Feeds:</strong></td>
                <td>{{ .feedsCount }}</td>
            </tr>
            <tr>
                <td><strong>Total Items:</strong></td>
                <td>{{ .itemsCount }}</td>
            </tr>
        </table>
    </div>

    <div class="info-section">
        <h3>Feed Fetch Status</h3>
        <table class="info-table">
            <tr>
                <td><strong>Last Successful Fetch:</strong></td>
                <td>
                    {{ if .lastSuccessTime }}
                        {{ .lastSuccessTime.Format "2006-01-02 15:04:05" }}
                        {{ if .lastSuccessFeed.URL }}
                            <br><small>Feed: {{ .lastSuccessFeed.URL }}</small>
                        {{ end }}
                    {{ else }}
                        <span class="no-data">Never</span>
                    {{ end }}
                </td>
            </tr>
            <tr>
                <td><strong>Last Failed Fetch:</strong></td>
                <td>
                    {{ if .lastErrorTime }}
                        {{ .lastErrorTime.Format "2006-01-02 15:04:05" }}
                        {{ if .lastErrorFeed.URL }}
                            <br><small>Feed: {{ .lastErrorFeed.URL }}</small>
                        {{ end }}
                        {{ if .lastError }}
                            <br><span class="error-text">Error: {{ .lastError }}</span>
                        {{ end }}
                    {{ else }}
                        <span class="no-data">Never</span>
                    {{ end }}
                </td>
            </tr>
        </table>
    </div>

    <div class="info-section">
        <h3>Environment Variables</h3>
        <table class="info-table">
            <thead>
                <tr>
                    <th>Variable Name</th>
                    <th>Value</th>
                    <th>Description</th>
                </tr>
            </thead>
            <tbody>
                {{ range .envVars }}
                <tr>
                    <td><code>{{ .Name }}</code></td>
                    <td><code>{{ .Value }}</code></td>
                    <td>{{ .Description }}</td>
                </tr>
                {{ end }}
            </tbody>
        </table>
    </div>
</div>
{{ end }}

